<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Namify BETA</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* General Body Styling */
        body {
            font-family: 'Poppins', sans-serif; /* Changed font to Poppins */
            background-color: #0a0a2a; /* Dark blue base for space */
            /* Starry pattern - fixed pixel values */
            background-image:
                radial-gradient(white, rgba(255,255,255,.2) 1px, transparent 30px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 40px),
                radial-gradient(white, rgba(255,255,255,.1) 1px, transparent 25px),
                radial-gradient(white, rgba(255,255,255,.05) 1px, transparent 20px),
                radial-gradient(white, rgba(255,255,255,.12) 1px, transparent 35px);
            background-size:
                500px 500px,
                300px 300px,
                400px 400px,
                200px 200px,
                600px 600px; /* Varied sizes for more randomness */
            background-position:
                0 0,
                40px 60px,
                130px 270px,
                70px 180px,
                200px 400px; /* Adjust positions for a scattered effect */
            animation: moveStars 100s linear infinite; /* Subtle star movement */

            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* Prevent scrollbar during transitions */
            position: relative; /* Needed for absolute positioning of children */
        }

        /* Keyframe animation for subtle star movement - fixed pixel values */
        @keyframes moveStars {
            from {
                background-position: 0 0, 40px 60px, 130px 270px, 70px 180px, 200px 400px;
            }
            to {
                background-position: 500px 500px, 340px 360px, 630px 770px, 370px 480px, 800px 900px;
            }
        }

        /* Keyframe animation for chroma RGB effect on buttons */
        @keyframes chromaShift {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        /* Common Styles for H2 */
        h2 {
            margin-bottom: 20px;
            font-size: 3.5em; /* Larger heading */
            font-weight: 700; /* Bolder font */
            letter-spacing: 2px; /* Spacing for impact */
            text-shadow: 0 0 15px rgba(255,255,255,0.5); /* Glowing effect */
        }

        /* Common Styles for Input Field */
        input {
            padding: 15px 20px; /* Increased padding */
            font-size: 1.1em; /* Slightly larger font */
            width: 350px; /* Increased width */
            border: 2px solid rgba(255, 255, 255, 0.3); /* Subtle border */
            border-radius: 10px; /* More rounded corners */
            margin-bottom: 20px; /* Increased margin */
            outline: none;
            background-color: rgba(255, 255, 255, 0.05); /* Slightly transparent background */
            color: white;
            transition: border-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition for focus */
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.7); /* Lighter placeholder text */
        }

        input:focus {
            border-color: #00bcd4; /* Cyan border on focus */
            box-shadow: 0 0 15px rgba(0, 188, 212, 0.6); /* Glowing shadow on focus */
        }

        /* Common Styles for Buttons */
        button {
            padding: 15px 30px; /* Increased padding */
            font-size: 1.1em; /* Slightly larger font */
            font-weight: 600; /* Bolder text */
            background-color: #ffffff; /* Default white background */
            color: #1e3c72; /* Darker blue text for contrast */
            border: none;
            border-radius: 10px; /* More rounded corners */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease, box-shadow 0.3s ease; /* Smooth transitions */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* More pronounced shadow */
            letter-spacing: 0.5px;
        }

        button:hover {
            background-color: #ffffff; /* Keep white background for filter to work on */
            animation: chromaShift 2s linear infinite; /* Apply the chroma animation */
            transform: translateY(-3px) scale(1.02); /* Lift and slightly enlarge on hover */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4); /* Enhanced shadow on hover */
        }

        button:active { /* Added active state for click feedback */
            transform: translateY(0) scale(0.98); /* Press down effect */
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3); /* Reduced shadow on press */
        }

        /* Styles for the Output Area */
        #output {
            margin-top: 30px; /* More margin */
            width: 90%; /* Wider output area */
            max-width: 600px; /* Increased max width */
            max-height: 350px; /* Increased max height */
            overflow-y: auto;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 20px; /* Increased padding */
            border-radius: 15px; /* More rounded corners */
            white-space: pre-wrap; /* Preserve whitespace and allow wrapping */
            font-family: 'Cascadia Code', 'Consolas', monospace; /* More distinct monospace font */
            font-size: 0.95em; /* Slightly smaller font for code-like output */
            line-height: 1.6; /* Better line spacing */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4); /* More pronounced shadow */
            border: 1px solid rgba(255, 255, 255, 0.2); /* Subtle border */
            scrollbar-width: thin; /* Firefox scrollbar styling */
            scrollbar-color: #2a5298 rgba(255, 255, 255, 0.1); /* Firefox scrollbar styling */
        }

        /* Webkit (Chrome, Safari) scrollbar styling */
        #output::-webkit-scrollbar {
            width: 8px;
        }

        #output::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        #output::-webkit-scrollbar-thumb {
            background-color: #2a5298;
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        /* Container for output and copy button */
        .output-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 600px; /* Match output max-width */
        }

        .copy-button-wrapper {
            margin-top: 15px; /* Space between output and copy button */
            position: relative; /* For tooltip positioning */
        }

        .copy-button-wrapper button {
            padding: 10px 20px; /* Smaller padding for copy button */
            font-size: 0.9em;
            font-weight: 500;
            color: #1e3c72;
            background-color: #ffffff;
        }

        /* Copy confirmation message (tooltip) */
        .copy-message {
            position: absolute;
            bottom: calc(100% + 10px); /* Position above the button */
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.85em;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 20; /* Ensure it's on top */
        }

        .copy-message.show {
            opacity: 1;
            visibility: visible;
        }


        /* --- Welcome Screen Specific Styles --- */
        #welcomeScreen {
            text-align: center;
            transition: opacity 0.5s ease-in-out; /* Smooth fade out transition */
            position: absolute; /* Position over mainApp */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex; /* Keep flex for centering content */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* Match body background for seamless transition - fixed pixel values */
            background-color: #0a0a2a;
            background-image:
                radial-gradient(white, rgba(255,255,255,.2) 1px, transparent 30px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 40px),
                radial-gradient(white, rgba(255,255,255,.1) 1px, transparent 25px),
                radial-gradient(white, rgba(255,255,255,.05) 1px, transparent 20px),
                radial-gradient(white, rgba(255,255,255,.12) 1px, transparent 35px);
            background-size:
                500px 500px,
                300px 300px,
                400px 400px,
                200px 200px,
                600px 600px;
            background-position:
                0 0,
                40px 60px,
                130px 270px,
                70px 180px,
                200px 400px;
            animation: moveStars 100s linear infinite; /* Apply same star movement */
            z-index: 10; /* Ensure it's on top initially */
        }

        #welcomeScreen h1 {
            font-size: 4.5em; /* Larger welcome heading */
            margin-bottom: 30px;
            font-weight: 700;
            letter-spacing: 3px;
            text-shadow: 0 0 20px rgba(255,255,255,0.7); /* Stronger glow */
        }

        #welcomeScreen p {
            font-size: 1.4em; /* Larger welcome text */
            margin-bottom: 50px; /* More space before button */
            max-width: 700px; /* Wider paragraph */
            line-height: 1.6;
            font-weight: 300; /* Lighter font weight */
        }

        #welcomeScreen button {
            padding: 20px 40px; /* Larger button */
            font-size: 1.5em; /* Larger font */
            font-weight: 700; /* Bolder font */
        }

        /* --- Main Application Specific Styles --- */
        #mainApp {
            opacity: 0; /* Initially hidden */
            pointer-events: none; /* Disable interactions when hidden */
            transition: opacity 0.5s ease-in-out; /* Smooth fade in transition */
            display: flex; /* Always display as flex for layout */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%; /* Take full width */
            height: 100%; /* Take full height */
            position: absolute; /* Position over welcome screen initially */
            top: 0;
            left: 0;
            z-index: 5; /* Below welcome screen initially */
        }

        #mainApp.visible {
            opacity: 1; /* Show when visible */
            pointer-events: all; /* Enable interactions */
            z-index: 11; /* Bring to front after welcome screen fades */
        }

        /* Footer text styling */
        .footer-text {
            position: absolute;
            bottom: 15px;
            right: 20px;
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
            z-index: 12; /* Ensure it's above other elements */
            pointer-events: none; /* Allow clicks to pass through */
        }

        /* Version number styling */
        .version-text {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
            z-index: 12; /* Ensure it's above other elements */
            pointer-events: none; /* Allow clicks to pass through */
        }

        /* Updates button styling */
        .updates-button {
            position: absolute;
            top: 45px; /* Position below version number */
            left: 20px;
            padding: 5px 10px;
            font-size: 0.75em;
            background-color: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            cursor: pointer;
            z-index: 12;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .updates-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        /* Modal Overlay */
        .modal-overlay {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 100; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0, 0, 0, 0.7); /* Black w/ opacity */
            display: flex; /* Use flex to center content */
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Modal Content Box */
        .modal-content {
            background-color: #0a0a2a; /* Dark background matching body */
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            position: relative;
            max-width: 500px;
            width: 90%;
            max-height: 80vh; /* Max height to allow scrolling */
            overflow-y: auto; /* Enable scrolling for content */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transform: translateY(-20px); /* Initial slight lift */
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0); /* Drop into place */
        }

        .modal-content h3 {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 2em;
            color: #fff;
            text-align: center;
        }

        /* Close Button */
        .close-button {
            color: rgba(255, 255, 255, 0.7);
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .close-button:hover,
        .close-button:focus {
            color: #fff;
            text-decoration: none;
            cursor: pointer;
        }

        /* Update Item Box */
        .update-item {
            background-color: rgba(255, 255, 255, 0.08); /* Slightly lighter background for each update */
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px; /* Space between updates */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            color: #e0e0e0;
        }

        .update-item:last-child {
            margin-bottom: 0; /* No margin for the last item */
        }

        .update-item h4 {
            margin-top: 0;
            margin-bottom: 8px;
            font-size: 1.2em;
            color: #00bcd4; /* Cyan for version number */
            font-weight: 600;
        }

        .update-item p {
            margin: 0;
            font-size: 0.9em;
            line-height: 1.5;
        }


        /* Responsive Adjustments */
        @media (max-width: 768px) {
            h2 {
                font-size: 2.5em;
            }
            input {
                width: 80%;
                font-size: 1em;
                padding: 12px 15px;
            }
            button {
                font-size: 1em;
                padding: 12px 25px;
            }
            #output {
                width: 95%;
                padding: 15px;
                font-size: 0.9em;
            }
            #welcomeScreen h1 {
                font-size: 3em;
            }
            #welcomeScreen p {
                font-size: 1.1em;
                max-width: 90%;
            }
            #welcomeScreen button {
                font-size: 1.2em;
                padding: 15px 30px;
            }
            .footer-text {
                font-size: 0.75em;
                bottom: 10px;
                right: 10px;
            }
            .version-text {
                font-size: 0.75em;
                top: 10px;
                left: 10px;
            }
            .updates-button {
                font-size: 0.65em;
                top: 35px; /* Adjust position for smaller font */
                left: 10px;
                padding: 3px 8px;
            }
            .modal-content {
                padding: 20px;
            }
            .modal-content h3 {
                font-size: 1.5em;
            }
            .close-button {
                font-size: 24px;
                top: 5px;
                right: 10px;
            }
            .update-item {
                padding: 10px;
            }
            .update-item h4 {
                font-size: 1.1em;
            }
            .update-item p {
                font-size: 0.85em;
            }
        }

        @media (max-width: 480px) {
            h2 {
                font-size: 2em;
            }
            input {
                width: 90%;
            }
            #welcomeScreen h1 {
                font-size: 2.2em;
            }
            #welcomeScreen p {
                font-size: 0.9em;
            }
            #welcomeScreen button {
                font-size: 1em;
                padding: 12px 25px;
            }
        }
    </style>
</head>
<body>

    <div id="welcomeScreen">
        <h1>Welcome to Namify BETA!</h1>
        <p>Namify helps you instantly generate sleek, timeless usernames. One click, countless clean variations. No clutter. No compromise.</p>
        <button onclick="startApp()" aria-label="Get Started with Namify Beta">Get Started</button>
    </div>

    <div id="mainApp">
        <h2>Namify BETA</h2>
        <input type="text" id="usernameInput" placeholder="Enter username..." aria-label="Enter username for variations" maxlength="16">
        <button onclick="generateHomoglyphs()" aria-label="Generate Username Variations">Generate Variations</button>
        
        <div class="output-container">
            <div id="output"></div>
            <div class="copy-button-wrapper">
                <button id="copyButton" onclick="copyOutput()" aria-label="Copy generated variations to clipboard">Copy All</button>
                <span id="copyMessage" class="copy-message">Copied!</span>
            </div>
        </div>

        <div class="footer-text">
            @Kfzv and @fuckpanpan on Discord
        </div>

        <div class="version-text">
            V0.02
        </div>

        <button class="updates-button" onclick="openUpdatesModal()" aria-label="View application updates history">Updates?</button>
    </div>

    <div id="updatesModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button" onclick="closeUpdatesModal()">&times;</span>
            <h3>Updates History</h3>
            <div class="updates-list">
                <div class="update-item">
                    <h4>V0.02</h4>
                    <p>Enhanced UI Design, Welcome Screen, Footer Text, Version Number, Chroma Buttons, 16-Character Limit, Caps-Friendly Generator, Easter Eggs (PanPan, Sinny)</p>
                </div>
                <div class="update-item">
                    <h4>V0.01</h4>
                    <p>Boring ass generator</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Define homoglyph mappings
        const homoglyphs = {
            'a': ['a', 'а'], // Latin 'a' vs Cyrillic 'а'
            'e': ['e', 'е'], // Latin 'e' vs Cyrillic 'е'
            'o': ['o', 'о'], // Latin 'o' vs Cyrillic 'о'
            'c': ['c', 'с'], // Latin 'c' vs Cyrillic 'с'
            'p': ['p', 'р'], // Latin 'p' vs Cyrillic 'р'
            'x': ['x', 'х'], // Latin 'x' vs Cyrillic 'х'
            'y': ['y', 'у'], // Latin 'y' vs Cyrillic 'у'
            's': ['s', 'ѕ'], // Latin 's' vs Cyrillic 'ѕ' (Cyrillic Dze)
            'i': ['i', 'і']  // Latin 'i' vs Cyrillic dotted 'і'
        };

        /**
         * Generates homoglyph variations of the input username.
         * Displays the results in the #output div.
         */
        function generateHomoglyphs() {
            const input = document.getElementById('usernameInput').value;
            const outputDiv = document.getElementById('output');
            const copyButton = document.getElementById('copyButton');

            // Convert input to lowercase for consistent checking
            const normalizedInput = input.toLowerCase();

            // Easter Egg 1: PanPan
            if (normalizedInput === "panpan") {
                outputDiv.innerHTML = "Snowy's mom aint got no teeth so you know its slippin";
                copyButton.style.display = 'block'; // Show copy button for this message
                return; // Stop further processing
            }

            // Easter Egg 2: Sinny
            if (normalizedInput === "sinny") {
                outputDiv.innerHTML = "You Typed This Name Because You Know You Love Me";
                copyButton.style.display = 'block'; // Show copy button for this message
                return; // Stop further processing
            }

            // Original homoglyph generation logic
            if (!input) {
                outputDiv.innerHTML = "Please enter a username to generate variations.";
                copyButton.style.display = 'none'; // Hide copy button if no input
                return; // Exit if input is empty
            }

            let results = ['']; // Initialize with an empty string to build variations
            // Iterate over each character in the input string
            for (let char of input) {
                const lowerChar = char.toLowerCase();
                // Get possible variants for the current character (based on its lowercase form)
                // If no homoglyph is defined, use the original character itself
                let variantsForChar = homoglyphs[lowerChar] || [char];

                let temp = []; // Temporary array to store new combinations
                // Combine existing results with new variants
                for (let base of results) {
                    for (let variant of variantsForChar) {
                        // Check if the original character was uppercase AND it's an alphabetic character
                        // AND the variant itself is an alphabetic character (to avoid uppercasing numbers/symbols)
                        if (char === char.toUpperCase() && char !== char.toLowerCase() && variant.toLowerCase() !== variant.toUpperCase()) {
                            temp.push(base + variant.toUpperCase());
                        } else {
                            temp.push(base + variant);
                        }
                    }
                }
                results = temp; // Update results with the new combinations
            }

            // Filter out the original input from the results to only show variations
            const filtered = results.filter(v => v !== input);

            if (filtered.length > 0) {
                outputDiv.innerHTML = `<strong>${filtered.length} Variations Found:</strong>\n\n` + filtered.join('\n');
                copyButton.style.display = 'block'; // Show copy button if variations are found
            } else {
                outputDiv.innerHTML = "No homoglyph variations found for the given username.";
                copyButton.style.display = 'none'; // Hide copy button if no variations
            }
        }

        /**
         * Copies the content of the output div to the clipboard.
         * Provides visual feedback to the user.
         */
        function copyOutput() {
            const outputText = document.getElementById('output').innerText;
            const copyMessage = document.getElementById('copyMessage');

            // Use document.execCommand('copy') for clipboard operations in iframes
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = outputText;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            try {
                document.execCommand('copy');
                copyMessage.classList.add('show');
                setTimeout(() => {
                    copyMessage.classList.remove('show');
                }, 1500); // Hide message after 1.5 seconds
            } catch (err) {
                console.error('Failed to copy text: ', err);
                // Fallback for browsers where execCommand might not work
                // In a production environment, you might offer a manual copy instruction here.
            } finally {
                document.body.removeChild(tempTextArea);
            }
        }

        /**
         * Handles the transition from the welcome screen to the main application.
         * Fades out the welcome screen and fades in the main application.
         */
        function startApp() {
            const welcomeScreen = document.getElementById('welcomeScreen');
            const mainApp = document.getElementById('mainApp');

            // Start fade out of welcome screen
            welcomeScreen.style.opacity = '0';
            welcomeScreen.style.pointerEvents = 'none'; // Disable clicks on fading screen

            // Immediately start fading in the main app
            mainApp.classList.add('visible'); // This will trigger the opacity transition for mainApp

            // After the welcome screen's fade out transition completes, hide it completely
            setTimeout(() => {
                welcomeScreen.style.display = 'none'; // Completely remove welcome screen from layout
            }, 500); // Duration matches the CSS transition time (0.5s)
        }

        /**
         * Opens the updates modal.
         */
        function openUpdatesModal() {
            document.getElementById('updatesModal').classList.add('active');
        }

        /**
         * Closes the updates modal.
         */
        function closeUpdatesModal() {
            document.getElementById('updatesModal').classList.remove('active');
        }

        // Initially hide the copy button
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('copyButton').style.display = 'none';
        });
    </script>
</body>
</html>
